{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  // 1. Инициализация иконок\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // 2. Хедер: изменение фона при скролле\n  const header = document.querySelector('.header');\n  window.addEventListener('scroll', () => {\n      if (window.scrollY > 50) {\n          header.classList.add('header--scrolled');\n      } else {\n          header.classList.remove('header--scrolled');\n      }\n  });\n\n  // 3. Анимация HERO (SplitType + GSAP)\n  const titleElement = document.querySelector('#hero-title');\n  if (titleElement) {\n      document.fonts.ready.then(() => {\n          // Разбиваем на слова и символы.\n          // Конструкция span.word предотвратит разрыв слов.\n          const heroTitle = new SplitType('#hero-title', {\n              types: 'words, chars',\n              tagName: 'span'\n          });\n\n          gsap.set('#hero-title', { visibility: 'visible' });\n\n          const tl = gsap.timeline({ defaults: { ease: 'power3.out' }, delay: 0.3 });\n\n          tl.to('.hero__tagline', { y: 0, opacity: 1, duration: 0.8 })\n            .from(heroTitle.chars, {\n                opacity: 0,\n                y: 30,\n                rotateX: -45,\n                stagger: 0.02,\n                duration: 0.8,\n            }, '-=0.4')\n            .to('.hero__description', { y: 0, opacity: 1, duration: 0.6 }, '-=0.4')\n            .to('.hero__actions', { y: 0, opacity: 1, duration: 0.6 }, '-=0.5')\n            .to('.hero__image-wrapper', { y: 0, opacity: 1, duration: 0.8 }, '-=0.6');\n      });\n  }\n\n  // 4. Мобильное меню (Исправлено)\n  const burgerBtn = document.querySelector('.burger');\n  const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n  if (burgerBtn) {\n      burgerBtn.addEventListener('click', () => {\n          burgerBtn.classList.toggle('active');\n          document.body.classList.toggle('menu-open');\n      });\n\n      mobileLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              burgerBtn.classList.remove('active');\n              document.body.classList.remove('menu-open');\n          });\n      });\n  }\n\n  // 5. Ховер-эффект для карточек (Glow)\n  const cards = document.querySelectorAll('.feature-card');\n  cards.forEach(card => {\n      card.addEventListener('mousemove', e => {\n          const rect = card.getBoundingClientRect();\n          const x = e.clientX - rect.left;\n          const y = e.clientY - rect.top;\n          card.style.setProperty('--x', `${x}px`);\n          card.style.setProperty('--y', `${y}px`);\n      });\n  });\n\n  // 6. Контактная форма: Капча и валидация\n  const contactForm = document.getElementById('contact-form');\n  if (contactForm) {\n      const phoneInput = document.getElementById('phone-input');\n      const captchaQuestion = document.getElementById('captcha-question');\n\n      let num1 = Math.floor(Math.random() * 10) + 1;\n      let num2 = Math.floor(Math.random() * 10) + 1;\n      let correctAnswer = num1 + num2;\n      if (captchaQuestion) captchaQuestion.textContent = `${num1} + ${num2} = ?`;\n\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/[^0-9]/g, '');\n      });\n\n      contactForm.addEventListener('submit', async (e) => {\n          e.preventDefault();\n          const captchaAnswer = document.getElementById('captcha-answer').value;\n          const formMessage = document.getElementById('form-message');\n          const submitBtn = contactForm.querySelector('button');\n\n          if (parseInt(captchaAnswer) !== correctAnswer) {\n              formMessage.textContent = 'Ошибка в примере!';\n              formMessage.className = 'form__message form__message--error';\n              return;\n          }\n\n          submitBtn.disabled = true;\n          formMessage.textContent = 'Отправка...';\n          formMessage.className = 'form__message';\n\n          // Имитация AJAX\n          setTimeout(() => {\n              formMessage.textContent = 'Успешно! Мы свяжемся с вами.';\n              formMessage.className = 'form__message form__message--success';\n              contactForm.reset();\n              submitBtn.disabled = false;\n          }, 1500);\n      });\n  }\n\n  // 7. Cookie Popup\n  const cookiePopup = document.getElementById('cookie-popup');\n  if (cookiePopup && !localStorage.getItem('nebrix_cookies_accepted')) {\n      setTimeout(() => cookiePopup.classList.add('show'), 2000);\n      document.getElementById('cookie-accept').onclick = () => {\n          localStorage.setItem('nebrix_cookies_accepted', 'true');\n          cookiePopup.classList.remove('show');\n      };\n  }\n});"],"names":["header","heroTitle","burgerBtn","mobileLinks","link","card","e","rect","x","y","contactForm","phoneInput","captchaQuestion","num1","num2","correctAnswer","captchaAnswer","formMessage","submitBtn","cookiePopup"],"mappings":"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"}